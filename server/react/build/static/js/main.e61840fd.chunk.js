(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{44:function(e,t,n){e.exports=n(58)},49:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),i=n.n(c),o=(n(49),n(11)),l=n(6),s=n(33),u=n(77),p=n(78),f=n(79),m=n(76),g=n(37),b=n(74);function d(e){var t=e.onDrop,n=Object(a.useState)([]),c=Object(o.a)(n,2),i=c[0],l=(c[1],Object(g.a)({accept:"image/*",onDrop:t})),s=l.getRootProps,u=l.getInputProps;return Object(a.useEffect)((function(){return function(){i.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[i]),r.a.createElement("section",{className:"container",style:{textAlign:"center"}},r.a.createElement(b.a,{style:{marginTop:"10px"}},r.a.createElement("div",s({className:"dropzone"}),r.a.createElement("input",u()),r.a.createElement("p",null,"Drag 'n' drop some files here, or click to select files"))))}var v=n(75),O=n(17),h=n.n(O),y=n(21),j=n(80);function w(e){return E.apply(this,arguments)}function E(){return(E=Object(y.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",t),e.abrupt("return",fetch("/api/file",{method:"POST",body:n}).then((function(e){return e.json()})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){var t=e.classifications,n=t.reduce((function(e,t){return e[1]>t[1]?e:t})),a=Object(o.a)(n,2),c=a[0];a[1];return console.log(t),r.a.createElement(v.a,null,r.a.createElement(m.a,{variant:"h5"},c))}var x={display:"block",width:"auto",height:"100%"};function D(e){var t=e.file,n=Object(a.useState)(null),c=Object(o.a)(n,2),i=c[0],l=c[1];return Object(a.useEffect)((function(){function e(){return(e=Object(y.a)(h.a.mark((function e(){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t);case 2:n=e.sent,a=n.classification,l(Object.entries(a));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement(b.a,{key:t.name},r.a.createElement(v.a,null,r.a.createElement("img",{src:t.preview,style:x,alt:"preview"}),r.a.createElement(j.a,{style:{textAlign:"center"}},i?r.a.createElement(k,{classifications:i}):r.a.createElement("p",null,"Loading..."))))}var P={display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:16};function S(e){var t=e.images.map((function(e){return r.a.createElement(D,{file:e})}));return r.a.createElement(v.a,null,r.a.createElement("aside",{style:P},t))}var L=Object(s.a)((function(e){return{appBar:{position:"relative"},layout:Object(l.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(l.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(54);var R=n(36),A=n(7),B=n(12);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_IMAGE":return[].concat(Object(B.a)(e),Object(B.a)(t.image));case"CLASSIFY_IMAGE":return e.map((function(e){return e.id===t.id?T({},e,{classification:t.classification}):e}));default:return e}},N=Object(A.combineReducers)({images:C}),U=n(38);var W,F=Object(U.a)({reducer:N,preloadedState:W});i.a.render(r.a.createElement(R.a,{store:F},r.a.createElement((function(){var e=L(),t=Object(a.useState)([]),n=Object(o.a)(t,2),c=n[0],i=n[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,null),r.a.createElement(p.a,{position:"absolute",color:"default",className:e.appBar},r.a.createElement(f.a,null,r.a.createElement(m.a,{variant:"h6",color:"inherit",noWrap:!0},"Iris Classifier - Ohad Chaet"))),r.a.createElement("main",{className:e.layout},r.a.createElement(d,{onDrop:function(e){var t=!0,n=!1,a=void 0;try{for(var r,c=e[Symbol.iterator]();!(t=(r=c.next()).done);t=!0)r.value}catch(o){n=!0,a=o}finally{try{t||null==c.return||c.return()}finally{if(n)throw a}}i(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))}}),r.a.createElement(S,{images:c})))}),null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[44,1,2]]]);
//# sourceMappingURL=main.e61840fd.chunk.js.map